:root{
    --primary: #ff6b6b;
    --secondary: #4ecdc4;
    --accent: #ffd166;
    --dark: #11121a;
    --glass: rgba(255,255,255,0.06);
    --glass-border: rgba(255,255,255,0.12);
    --light: #fff;
    --shadow: 0 12px 40px rgba(0,0,0,0.45);
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
    font-family: 'Poppins', sans-serif;
    color:var(--light);
    background: linear-gradient(180deg,#0f1724 0%, #11121a 60%);
    overflow-x:hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* ---------- Photo background (photo-based, blurred + overlay) ---------- */
.bg-photo{
    position:fixed;
    inset:0;
    z-index:-4;
    background-image: url('/images/cake-blur.jpg');
    background-size:cover;
    background-position:center center;
    filter: blur(6px) brightness(.55) saturate(.95);
    transform-origin:center;
    transition: transform 0.2s linear;
}

/* Fallback Unsplash (if user doesn't provide local image) */
.bg-photo:empty{
    background-image: url('https://images.unsplash.com/photo-1521302082494-6f7a1d5d1be9?q=80&w=2000&auto=format&fit=crop&ixlib=rb-4.0.3&s=1d6ac7b0b3e84a6ea6a2b9f1b7ad6d81');
}

/* subtle warm overlay gradient */
.bg-photo::after{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.45));
    pointer-events:none;
}

/* Floating ribbons + candle flicker */
.decorations .ribbon{
    position:fixed;
    z-index:-3;
    width:220px;height:220px;
    background:linear-gradient(45deg,#ffcc80, #ff6b6b);
    opacity:.06;border-radius:12px;filter:blur(20px);
}
.ribbon-1{top:8%;left:-60px;transform:rotate(18deg)}
.ribbon-2{bottom:6%;right:-80px;transform:rotate(-22deg)}

/* flickering candle glow small */
.candle-flicker{
    position:fixed;left:50%;top:16%;width:280px;height:280px;transform:translateX(-50%);z-index:-3;
    border-radius:50%;filter:blur(90px);opacity:.06;
    background: radial-gradient(circle at 30% 30%, rgba(255,200,120,0.18), rgba(255,120,120,0.06) 40%, transparent 60%);
    animation: flicker 3s infinite;
}
@keyframes flicker{0%{opacity:.05}50%{opacity:.12}100%{opacity:.05}}

/* Floating Navigation */
.floating-nav{
    position:fixed;top:50%;right:18px;transform:translateY(-50%);z-index:50;
    display:flex;flex-direction:column;gap:12px;padding:12px;background:rgba(0,0,0,0.18);
    border-radius:50px;border:1px solid rgba(255,255,255,0.05);backdrop-filter: blur(6px);
}
.floating-nav .nav-item{
    width:46px;height:46px;border-radius:50%;display:flex;align-items:center;justify-content:center;
    background:transparent;border:2px solid transparent;font-size:1.2rem;cursor:pointer;color:var(--light);
    transition:all .25s ease;
}
.floating-nav .nav-item.active,
.floating-nav .nav-item:hover{
    background:linear-gradient(45deg,var(--primary),var(--accent));transform:scale(1.08);
    box-shadow:0 8px 30px rgba(255,107,107,0.12);color:#0f1724;border-color:rgba(255,255,255,0.2);
}

/* Main container & sections */
.main-container{max-width:1200px;margin:0 auto;padding:24px}
.section{min-height:70vh;padding:64px 16px;display:none;align-items:flex-start;justify-content:center}
.section.active{display:block}

/* Hero */
.hero-content{text-align:center;padding-top:40px;padding-bottom:20px}
.badge-spin{width:110px;height:110px;margin:0 auto;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.4rem;
    background:linear-gradient(45deg,var(--primary),var(--accent));color:#0f1724;box-shadow:0 10px 40px rgba(255,107,107,0.12);
    animation: spin 4s linear infinite;
}
.main-title{font-size:3.6rem;font-weight:800;margin-top:20px;margin-bottom:12px;line-height:1;color:transparent;background:linear-gradient(90deg,#ffd166,#ff6b6b,#4ecdc4);-webkit-background-clip:text}
.hero-subtitle{opacity:.95;margin-bottom:26px;font-size:1.05rem;color:rgba(255,255,255,0.9)}
.cta-buttons{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.btn-primary,.btn-secondary{padding:14px 20px;border-radius:999px;border:0;cursor:pointer;font-weight:700}
.btn-primary{background:linear-gradient(45deg,var(--primary),var(--accent));color:#0f1724;box-shadow:0 12px 30px rgba(255,107,107,0.12)}
.btn-secondary{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--light)}

/* Section header */
.section-header{text-align:center;margin-bottom:30px}
.section-header h2{font-size:2.4rem;margin-bottom:8px;letter-spacing:0.6px;background:linear-gradient(90deg,var(--secondary),var(--primary));-webkit-background-clip:text;color:transparent}
.section-header p{opacity:.9;color:rgba(255,255,255,0.9)}

/* ---------- Photo grid (large, responsive, lovely) ---------- */
.photo-grid{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:16px;
    align-items:start;
}

/* Make chaotic/masonry feel with different row spans */
.photo-card{
    position:relative;
    border-radius:18px;
    overflow:hidden;
    box-shadow:var(--shadow);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    aspect-ratio: 1 / 1;
    cursor: pointer;
    transition: box-shadow 0.3s ease, transform 0.3s ease;
}
.photo-card:hover{
    box-shadow: 0 20px 50px rgba(255,107,107,0.2);
    transform: translateY(-4px);
}
.photo-card img{
    width:100%;
    height:100%;
    display:block;
    object-fit:cover;
    object-position: center;
    transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1), filter 0.3s ease;
    filter: brightness(1) saturate(1);
}
.photo-card:hover img{
    transform:scale(1.08);
    filter: brightness(1.12) saturate(1.1);
}
.photo-card figcaption{
    position:absolute;
    left:0;
    right:0;
    bottom:0;
    padding:16px;
    background:linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 60%, transparent);
    color:#fff;
    font-weight:600;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    opacity: 0.9;
}

/* Responsive adjustments: switch columns on smaller screens */
@media (max-width: 1024px){
    .photo-grid{grid-template-columns:repeat(2,1fr)}
    .photo-card{aspect-ratio: 1 / 1;}
}
@media (max-width: 640px){
    .photo-grid{grid-template-columns:1fr;gap:12px}
    .photo-card{aspect-ratio: 1 / 1;}
    .photo-card figcaption{padding:12px;font-size:0.9rem}
    .lightbox-close{width:40px;height:40px;font-size:1.8rem}
    .lightbox img{max-width:95%;max-height:80%}
}

/* Lightbox */
.lightbox{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.92);z-index:9999;opacity:0;pointer-events:none;
    transition:opacity .3s ease;
    backdrop-filter: blur(4px);
}
.lightbox.open{opacity:1;pointer-events:auto}
.lightbox img{
    max-width:90%;
    max-height:85%;
    border-radius:14px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.8);
    animation: zoomIn 0.3s ease;
    object-fit: contain;
}
@keyframes zoomIn{
    from{
        opacity: 0;
        transform: scale(0.85);
    }
    to{
        opacity: 1;
        transform: scale(1);
    }
}
.lightbox-close{
    position:absolute;
    top:28px;
    right:28px;
    background:rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.2);
    width:44px;
    height:44px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:2.2rem;
    color:#fff;
    cursor:pointer;
    transition: all 0.2s ease;
}
.lightbox-close:hover{
    background:rgba(255,255,255,0.2);
    transform: rotate(90deg);
}
.lightbox-caption{
    position:fixed;
    bottom:36px;
    color:#fff;
    font-weight:600;
    font-size: 1rem;
    text-shadow: 0 2px 8px rgba(0,0,0,0.5);
}

/* Video carousel */
.video-carousel{display:flex;gap:18px;padding:12px;overflow-x:auto;scroll-snap-type:x mandatory}
.video-item{flex:0 0 auto;width:340px}
.video-wrapper{border-radius:14px;overflow:hidden;box-shadow:var(--shadow);background:rgba(255,255,255,0.02)}
.video-wrapper video{width:100%;height:220px;object-fit:cover;display:block}
.video-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:0;transition:opacity .18s}
.video-wrapper:hover .video-overlay{opacity:1}



/* Wish form */
.wish-form-glass{max-width:680px;margin:0 auto;padding:28px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border:1px solid var(--glass-border);box-shadow:var(--shadow)}
.wish-form-glass h3{text-align:center;margin-bottom:18px;color:var(--accent)}
.form-group{margin-bottom:16px}
.form-group label{display:block;margin-bottom:8px;font-weight:700;color:var(--secondary)}
.name-input-wrap{position:relative}
#nameInput{width:100%;padding:12px 16px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:var(--light);font-size:1rem}
#nameInput::placeholder{color:rgba(255,255,255,0.5)}
.hint{display:block;font-size:0.85rem;color:rgba(255,255,255,0.65);margin-top:6px}

/* textarea */
#wishMessage{width:100%;min-height:120px;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:var(--light);resize:vertical;font-size:1rem}

/* submit */
.wish-submit-btn{display:block;width:100%;padding:14px;border-radius:12px;border:0;background:linear-gradient(45deg,var(--primary),var(--secondary));color:#0f1724;font-weight:800;cursor:pointer;margin-top:6px}

/* Wishes grid */
.wishes-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:16px;padding:12px}
.wish-card{padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 30px rgba(0,0,0,0.45)}
.wish-header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
.user-avatar i{font-size:2rem;color:var(--secondary)}
.wish-info h4{color:var(--accent);margin-bottom:4px}
.wish-text{line-height:1.5;color:rgba(255,255,255,0.95)}

/* Music player */
.music-player{position:fixed;left:18px;bottom:18px;z-index:60}
.music-toggle{width:56px;height:56px;border-radius:50%;border:0;background:linear-gradient(45deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;color:#0f1724;font-size:1.1rem;box-shadow:0 12px 30px rgba(255,107,107,0.12)}

/* Notification styles (keeps same look & show) */
.notification{position:fixed;top:20px;right:20px;background:rgba(255,255,255,0.95);color:#111;padding:12px 18px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.2);transform:translateX(280px);opacity:0;transition:all .25s ease;z-index:9999;border-left:4px solid var(--secondary)}
.notification.show{transform:translateX(0);opacity:1}
.notification.error{border-left-color:var(--primary)}

/* Responsive tweaks */
@media (max-width: 900px){
    .main-title{font-size:2.6rem}
    .floating-nav{right:10px;padding:8px}
    .badge-spin{width:86px;height:86px;font-size:1.8rem}
    .video-item{width:300px}
    .music-toggle{width:50px;height:50px}
}
@media (max-width:480px){
    .main-container{padding:12px}
    .hero-content{padding-top:24px}
    .main-title{font-size:2.2rem}
    .photo-grid{grid-template-columns:1fr}
    .floating-nav{display:flex;right:8px;gap:8px}
    .wish-form-glass{padding:18px}
}
